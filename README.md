# Панель мониторинга загрязнения воды

Комплексная веб-панель для мониторинга качества воды в нескольких точках отбора проб с использованием Streamlit.

## Обзор

Эта интерактивная панель обеспечивает визуализацию и анализ данных о загрязнении воды из четырех точек мониторинга вдоль водоема. Система отслеживает концентрацию тяжелых металлов, классификацию качества воды и показатели расхода с 2020 по 2023 год.

### Точки мониторинга
- **T1**
- **T2**
- **T3**
- **T4**

## Возможности

### 1. Обзор
- Визуализация классов качества воды по годам и местоположениям
- Интерактивные столбчатые диаграммы и тепловые карты
- Сводная статистика по всем точкам мониторинга
- Визуальная система классификации (Класс I-V)

### 2. Анализ тяжелых металлов
- **Отслеживаемые металлы**: Марганец (Mn), Цинк (Zn), Медь (Cu), Кадмий (Cd)
- Временные графики, показывающие тенденции концентрации
- Анализ распределения с использованием диаграмм размаха
- Тепловые карты средних концентраций
- Статистические сводки (среднее, медиана, минимум, максимум, стандартное отклонение)
- Интерактивная фильтрация по типу металла

### 3. Расход воды
- Тенденции среднегодового расхода
- Сравнения год к году
- Подробные таблицы данных по месяцам
- Статистические показатели и визуализации

### 4. Сравнение точек мониторинга
- Радиальные диаграммы для сравнения всех местоположений
- Параллельное сравнение концентраций металлов
- Тенденции классов качества воды
- Комплексные сводные таблицы

### 5. Анализ трендов
- Долгосрочный анализ тенденций (2020-2023)
- Расчет изменений год к году
- Комбинированный анализ показателей
- Детальные статистические разбивки

## Файлы данных

Панель использует три файла Excel:

1. **Данные по ТМ.xlsx** - Данные о концентрации тяжелых металлов
   - Ежемесячные измерения Mn, Zn, Cu, Cd
   - Данные организованы по годам и точкам мониторинга
   
2. **Индекс.xlsx** - Индекс качества воды
   - Ежегодные классификации качества воды (Класс I-V)
   - Данные по каждой точке мониторинга
   
3. **расход.xlsx** - Данные о расходе воды
   - Ежемесячные и годовые измерения расхода
   - Исторические данные с 2014 года

## Установка

### Требования
- Python 3.8 или выше
- Менеджер пакетов pip

### Инструкции по установке

1. **Клонируйте или скачайте репозиторий**
   ```bash
   cd water_pol
   ```

2. **Создайте виртуальное окружение (рекомендуется)**
   ```bash
   python -m venv .venv
   ```

3. **Активируйте виртуальное окружение**
   - Windows:
     ```bash
     .venv\Scripts\activate
     ```
   - Linux/Mac:
     ```bash
     source .venv/bin/activate
     ```

4. **Установите требуемые пакеты**
   ```bash
   pip install -r requirements.txt
   ```

## Запуск приложения

1. **Убедитесь, что вы находитесь в директории проекта с файлами данных**
   ```bash
   cd C:\Users\G1415-01\Desktop\Mukhamed\projects\water_pol
   ```

2. **Запустите приложение Streamlit**
   ```bash
   streamlit run app.py
   ```

3. **Откройте браузер**
   - Приложение автоматически откроется по адресу `http://localhost:8501`
   - Если этого не произошло, перейдите по этому адресу вручную

## Зависимости

```
streamlit==1.31.0
pandas==2.2.0
plotly==5.18.0
openpyxl==3.1.2
numpy==1.26.3
```

## Особенности дизайна

- **Язык**: Русский текст интерфейса с английскими подписями графиков
- **Тема**: Принудительный белый фон (работает с любой системной темой)
- **Адаптивность**: Широкий макет, оптимизированный для просмотра на настольных компьютерах
- **Интерактивность**: Все графики интерактивны с детальной информацией при наведении, масштабированием и панорамированием
- **Удобство использования**: Боковая панель навигации с четкими разделами

## Возможности анализа данных

### Статистический анализ
- Среднее, медиана, минимум, максимум, стандартное отклонение
- Расчеты изменений год к году
- Выявление трендов
- Анализ распределения

### Визуализации
- Линейные графики для временных рядов
- Столбчатые диаграммы для сравнений
- Диаграммы размаха для распределения
- Тепловые карты для пространственно-временного анализа
- Радиальные диаграммы для многомерных сравнений
- Диаграммы рассеяния для связей

## Классификация качества воды

| Класс | Описание |
|-------|----------|
| I | Очень чистая |
| II | Чистая |
| III | Умеренно загрязненная |
| IV | Загрязненная |
| V | Грязная |

## Советы по использованию

1. **Навигация**: Используйте боковую панель для переключения между различными разделами анализа
2. **Фильтрация**: Выбирайте конкретные металлы или годы для фокусировки анализа
3. **Интерактивность**: Наводите курсор на графики для просмотра детальных значений
4. **Экспорт**: У большинства графиков есть значок камеры для загрузки в формате PNG
5. **Таблицы данных**: Прокручивайте таблицы для просмотра детальных числовых данных

## Устранение неполадок

### Распространенные проблемы

**Приложение не запускается:**
- Убедитесь, что все зависимости установлены: `pip install -r requirements.txt`
- Проверьте, что файлы Excel находятся в той же директории, что и `app.py`
- Проверьте версию Python: `python --version` (должна быть 3.8+)

**Ошибки загрузки данных:**
- Убедитесь, что имена файлов Excel точно совпадают: `Данные по ТМ.xlsx`, `Индекс.xlsx`, `расход.xlsx`
- Проверьте права доступа к файлам
- Убедитесь, что файлы не открыты в Excel

**Графики не отображаются:**
- Очистите кэш браузера
- Попробуйте другой браузер
- Убедитесь, что JavaScript включен

## Структура проекта

```
water_pol/
├── app.py                    # Основное приложение Streamlit
├── requirements.txt          # Зависимости Python
├── README.md                 # Этот файл
├── Данные по ТМ.xlsx        # Данные по тяжелым металлам
├── Индекс.xlsx              # Индекс качества воды
└── расход.xlsx              # Данные по расходу воды
```

## Будущие улучшения

Потенциальные улучшения для будущих версий:
- Функциональность экспорта отчетов
- Прогнозное моделирование будущих тенденций
- Система оповещений о превышении пороговых значений
- Интеграция карты для отображения местоположений точек мониторинга
- Многоязычная поддержка
- Интерфейс загрузки данных для новых измерений
- Генерация PDF-отчетов

## Контакты и поддержка

По вопросам о данных или функциональности панели обращайтесь к сопровождающему проекта.

## Лицензия

Этот проект предназначен для внутреннего использования в целях мониторинга качества воды.

---

**Последнее обновление**: Февраль 2026  
**Период данных**: 2020-2023  
**Версия**: 1.0.0
